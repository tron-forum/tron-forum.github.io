<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>μT-Kernelの概念</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="μT-Kernel 3.0仕様書"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="既存のリアルタイムOS仕様との関係"
HREF="relation_with_existing_rtos_specifications.html"><LINK
REL="NEXT"
TITLE="タスク状態とスケジューリング規則"
HREF="task_states_and_scheduling_rules.html"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>μT-Kernel 3.0仕様書</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="relation_with_existing_rtos_specifications.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="task_states_and_scheduling_rules.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="concepts_underlying_utk"
></A
>μT-Kernelの概念</H1
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="meaning_of_basic_terminology"
>基本的な用語の意味</A
></H1
><DIV
CLASS="glosslist"
><DL
><DT
><B
>リアルタイムとリアルタイムシステム</B
></DT
><DD
><P
>応答時間や遅延時間に不確実性や非再現性がなく、deterministicであり、特にその最悪値が予測可能であるシステム、ないしは予測しやすいような内部構成になっているシステムをリアルタイムシステムと呼ぶ。</P
><P
>μT-Kernelは、上記のような特性を持ったリアルタイムシステムを構築するためのリアルタイムOSである。</P
></DD
><DT
><B
>タスクと自タスク</B
></DT
><DD
><P
>プログラムの並行実行の単位を「タスク」と呼ぶ。すなわち、一つのタスク中のプログラムは逐次的に実行されるのに対して、異なるタスクのプログラムは並行して実行が行われる。ただし、並行して実行が行われるというのは、アプリケーションから見た概念的な動作であり、実装上はカーネルの制御のもとで、それぞれのタスクが時分割で実行される。</P
><P
>また、システムコールを呼び出したタスクを「自タスク」と呼ぶ。</P
></DD
><DT
><B
>ディスパッチとディスパッチャ</B
></DT
><DD
><P
>プロセッサが実行するタスクを切り替えることを「ディスパッチ」(または「タスクディスパッチ」)と呼ぶ。また、ディスパッチを実現するカーネル内の機構を「ディスパッチャ」(または「タスクディスパッチャ」)と呼ぶ。</P
></DD
><DT
><B
>スケジューリングとスケジューラ</B
></DT
><DD
><P
>次に実行すべきタスクを決定する処理を「スケジューリング」(または「タスクスケジューリング」)と呼ぶ。また、スケジューリングを実現するカーネル内の機構を「スケジューラ」(または「タスクスケジューラ」)と呼ぶ。スケジューラは、一般的な実装では、システムコール処理の中やディスパッチャの中で実現される。</P
></DD
><DT
><B
>コンテキスト</B
></DT
><DD
><P
>一般に、プログラムの実行される環境を「コンテキスト」と呼ぶ。コンテキストが同じというためには、少なくとも、プロセッサの動作モードが同一で、用いているスタック空間が同一(スタック領域が一連)でなければならない。ただし、コンテキストはアプリケーションから見た概念であり、独立したコンテキストで実行すべき処理であっても、実装上は同一のプロセッサ動作モードで同一のスタック空間で実行されることもある。</P
></DD
><DT
><B
>優先順位</B
></DT
><DD
><P
>タスクの実行順序、すなわち実行可能状態のタスクに実行権を与えて実行状態とする際の順序関係を「優先順位 Precedence」と呼ぶ。タスクXよりもタスクYの優先順位が高い場合、タスクYが先に実行される。また、あるタスクXを実行中に、タスクXよりも優先順位の高いタスクYが実行できる状態になった場合、タスクYに実行権が移ってタスクYが実行状態となるとともに、タスクXは実行状態から実行可能状態となる。<DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="注意"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>補足事項</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>「優先順位(Precedence)」に似た意味を持つ用語として「優先度(priority)」があり、タスクの実行順序に影響を与える点はいずれも同じである。しかし、「優先度」がAPIのパラメータ等によってアプリケーションから明示的に指定されるタスクの属性であるのに対して、「優先順位」は複数のタスク間でその実行順序を示すために用いる概念である。タスク間の優先順位はタスクの優先度に基づいて定められ、優先度の高いタスクは優先順位も高い。一方、優先度の同じタスク同士であっても、両者の優先順位は同じではない。同じ優先度を持つタスク間では、先に実行できる状態(実行状態または実行可能状態)になったタスクの方が高い優先順位を持つ。ただし、<A
HREF="system_management_functions.html#tk_rot_rdq"
>tk_rot_rdq</A
> などのAPIの実行により、同じ優先度を持つタスク間の優先順位が変更される場合がある。</P
></TD
></TR
></TABLE
></DIV
></P
></DD
><DT
><B
>APIとシステムコール</B
></DT
><DD
><P
>アプリケーションやミドルウェアからμT-Kernelの提供する機能を呼び出すための標準インタフェースを総称して、API(Application Programming Interface)と呼ぶ。APIは、カーネルの機能を直接的に呼び出すシステムコールのほか、拡張SVCやマクロ、ライブラリ関数として実現されるものも含まれる。</P
></DD
><DT
><B
>拡張SVC</B
></DT
><DD
><P
>OSの起動時あるいは起動後に動的に追加されたシステムコールを「拡張SVC」と呼ぶ。μT-Kernel 3.0の仕様では、<A
HREF="subsystem_management_functions.html"
>サブシステム管理機能</A
> を使って拡張SVCを定義する。また、μT-Kernel/SMのAPIを実装するために、拡張SVCを利用することができる。</P
><P
>拡張SVCの処理を実行するプログラムを「拡張SVCハンドラ」と呼ぶ。</P
></DD
><DT
><B
>カーネル</B
></DT
><DD
><P
>μT-Kernel 3.0のうち、拡張SVC、マクロ、ライブラリ関数として実装される部分を除いた部分を「カーネル」と呼ぶ。μT-Kernel/SMのAPIは拡張SVC、マクロ、ライブラリ関数として実装することが可能であり、そのような方法で実装された部分は、μT-Kernel 3.0のOS仕様には含まれるが「カーネル」には含まれない。一方、μT-Kernel/OSとμT-Kernel/DSの全ての機能は「カーネル」に含まれる。</P
><P
>非タスク部実行中のシステム状態を考える場合には、「カーネル」に含まれる機能か否かを意識する必要がある。</P
></DD
><DT
><B
>実装定義</B
></DT
><DD
><P
>仕様として標準化していない事項である。実装ごとに仕様を規定しなければならない。実装仕様書に具体的な実装内容について明記しなければならない。アプリケーションプログラムにおいて、実装定義の事項に依存している部分は移植性が確保されない。</P
></DD
><DT
><B
>実装依存</B
></DT
><DD
><P
>仕様において、ターゲットシステム、または、システムの動作条件によって振舞いが変わる事項であることを示す。実装ごとに振舞いを規定しなければならない。実装仕様書に具体的な実装内容について明記しなければならない。アプリケーションプログラムにおいて、実装依存の事項に依存している部分は基本的に移植する際に変更が必要となる。</P
></DD
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="relation_with_existing_rtos_specifications.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="task_states_and_scheduling_rules.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>既存のリアルタイムOS仕様との関係</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>タスク状態とスケジューリング規則</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>