<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>APIの記述形式</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="μT-Kernel 3.0仕様書"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="μT-Kernel 3.0仕様書"
HREF="index.html"><LINK
REL="NEXT"
TITLE="μT-Kernel/OS API索引"
HREF="index_of_utk_os_api.html"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>μT-Kernel 3.0仕様書</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="index.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="index_of_utk_os_api.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="api_notation"
></A
>APIの記述形式</H1
><P
>本仕様書のAPI説明の部分では、API(Application Programming Interface)ごとに、以下のような形式で仕様の説明を行っている。なお、APIには、カーネルの機能を直接的に呼び出すシステムコールのほかに、拡張SVC(拡張システムコール)やマクロ、ライブラリとして実現されるものも含まれる。</P
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="api_name_summary_description"
>API名称 - 説明</A
></H1
><P
>APIの名称および説明を示す。</P
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="api_notation_c_language_interface"
>C言語インタフェース</A
></H2
><P
>APIのC言語インタフェースおよびインクルードするヘッダファイルを示す。</P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="api_notation_parameters"
>パラメータ</A
></H2
><P
>APIのパラメータ、すなわちAPIを発行するときにμT-Kernelに渡す情報に関する説明を行う。</P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="api_notation_return_parameters"
>リターンパラメータ</A
></H2
><P
>APIのリターンパラメータ、すなわちAPIの実行が終ったときにμT-Kernelから返される情報に関する説明を行う。</P
><P
>なお、リターンパラメータのうち、APIの関数値として戻されるものを「戻値」と呼ぶことがある。リターンパラメータには、戻値のほかに、パラメータとして渡されたポインタの参照先に情報を返すものがある。</P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="api_notation_error_codes"
>エラーコード</A
></H2
><P
>APIで発生する可能性のあるエラーに関して説明を行う。</P
><P
>以下のエラーコードについては、各APIのエラーコードの説明の項には含めていないが、各APIにおいて共通に発生する可能性がある。</P
><SPAN
CLASS="errorname"
>E_SYS</SPAN
>, <SPAN
CLASS="errorname"
>E_NOSPT</SPAN
>, <SPAN
CLASS="errorname"
>E_RSFN</SPAN
>, <SPAN
CLASS="errorname"
>E_MACV</SPAN
>, <SPAN
CLASS="errorname"
>E_OACV</SPAN
><P
>以下のエラーコードの検出は実装依存であり、エラーとして検出されない場合がある。</P
><SPAN
CLASS="errorname"
>E_PAR</SPAN
>, <SPAN
CLASS="errorname"
>E_MACV</SPAN
>, <SPAN
CLASS="errorname"
>E_CTX</SPAN
><P
>エラーコード <SPAN
CLASS="errorname"
>E_CTX</SPAN
> については、待ち状態に入るAPIのタスク独立部からの呼出など、APIの呼出コンテキストに意味的な誤りがある場合についてのみ、各APIのエラーコードの説明に含めている。呼出コンテキストに関する制約が実装依存であり、必ずしもエラーとする必要がない条件については、各APIのエラーコードの説明の項には含めていない。</P
><P
>また、実装上の制限事項により、エラーコードの説明に含まれない条件でエラーが発生する可能性もある。</P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="api_notation_context"
>利用可能なコンテキスト</A
></H2
><P
>APIを発行することができるコンテキスト(タスク部、準タスク部、タスク独立部)を示す。なお、「×」を記した項目については該当するコンテキストにおいて明確に利用可能でないAPIのほか、利用可能であるかどうかが実装依存となっている項目を含んでおり、実装によっては利用可能である可能性がある。</P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="api_notation_service_profile"
>関連するサービスプロファイル</A
></H2
><P
>APIに関連するサービスプロファイルとの関係を示す。</P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="api_notation_description"
>解説</A
></H2
><P
>APIの機能の解説を行う。</P
><P
>いくつかの値を選択して設定するようなパラメータの場合には、以下のような記述方法によって仕様説明を行っている。<P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>( x || y || z )</DT
><DD
><P
>x, y, z のいずれか一つを選択して指定する。</P
></DD
><DT
>x ｜ y</DT
><DD
><P
>x と y を同時に指定可能である。 (同時に指定する場合は x と y の論理和をとる)</P
></DD
><DT
>[ x ]</DT
><DD
><P
>x は指定しても指定しなくても良い。</P
></DD
></DL
></DIV
>
          <DIV
CLASS="example"
><A
NAME="AEN100"
></A
><P
><B
>例 1. パラメータの記述例</B
></P
><PRE
CLASS="synopsis"
>&#13;wfmode := (TWF_ANDW || TWF_ORW) ｜ [TWF_CLR]
</PRE
><P
>の場合、wfmode の指定は次の4種のいずれかになる。</P
><P
></P
><TABLE
BORDER="0"
><TBODY
><TR
><TD
><TT
CLASS="literal"
>TWF_ANDW</TT
></TD
></TR
><TR
><TD
><TT
CLASS="literal"
>TWF_ORW</TT
></TD
></TR
><TR
><TD
>(<TT
CLASS="literal"
>TWF_ANDW</TT
> | <TT
CLASS="literal"
>TWF_CLR</TT
>)</TD
></TR
><TR
><TD
>(<TT
CLASS="literal"
>TWF_ORW</TT
> | <TT
CLASS="literal"
>TWF_CLR</TT
>)</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="api_notation_additional_notes"
>補足事項</A
></H2
><P
>特記事項や注意すべき点など、解説に対する補足事項を述べる。</P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="api_notation_rationale_for_the_specification"
>仕様決定の理由</A
></H2
><P
>仕様決定の理由を述べる。</P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="index_of_utk_os_api.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>μT-Kernel 3.0仕様書</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>μT-Kernel/OS API索引</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>